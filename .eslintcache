[{"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\index.js":"1","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\reportWebVitals.js":"2","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\App.js":"3","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\pages\\login.js":"4","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\pages\\profile.js":"5","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\pages\\home.js":"6","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\lib\\contexts.js":"7","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\lib\\hooks.js":"8","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\layout.js":"9","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\header.js":"10","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\menu.js":"11","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\loading-indicator.js":"12","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\pages\\friends-list.js":"13","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\pages\\group-chat.js":"14","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\footer.js":"15","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\error-boundary.js":"16","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\lib\\assignProps.js":"17","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\dialogs.js":"18"},{"size":501,"mtime":1611851241394,"results":"19","hashOfConfig":"20"},{"size":362,"mtime":499162500000,"results":"21","hashOfConfig":"20"},{"size":1930,"mtime":1612624951902,"results":"22","hashOfConfig":"20"},{"size":2805,"mtime":1612608784181,"results":"23","hashOfConfig":"20"},{"size":5418,"mtime":1612606523562,"results":"24","hashOfConfig":"20"},{"size":809,"mtime":1612546799255,"results":"25","hashOfConfig":"20"},{"size":171,"mtime":1612546799255,"results":"26","hashOfConfig":"20"},{"size":280,"mtime":1612604289934,"results":"27","hashOfConfig":"20"},{"size":296,"mtime":1612546799255,"results":"28","hashOfConfig":"20"},{"size":756,"mtime":1612618178006,"results":"29","hashOfConfig":"20"},{"size":2753,"mtime":1612188005800,"results":"30","hashOfConfig":"20"},{"size":507,"mtime":1612188005796,"results":"31","hashOfConfig":"20"},{"size":2970,"mtime":1612623074511,"results":"32","hashOfConfig":"20"},{"size":449,"mtime":1612188005800,"results":"33","hashOfConfig":"20"},{"size":449,"mtime":1612546799247,"results":"34","hashOfConfig":"20"},{"size":495,"mtime":1612201480073,"results":"35","hashOfConfig":"20"},{"size":338,"mtime":1612604755879,"results":"36","hashOfConfig":"20"},{"size":3094,"mtime":1612625749452,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"ntlwgj",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\index.js",[],["76","77"],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\reportWebVitals.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\App.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\pages\\login.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\pages\\profile.js",["78","79","80"],"import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport \"./profile.scss\";\r\nimport Layout from \"../components/layout\";\r\nimport { useUserAuth } from \"../lib/hooks\";\r\nimport { assignUserProps } from \"../lib/assignProps\";\r\n\r\nfunction InfoForm(props) {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [originalname, setOriginalname] = useState(\"\");\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { user } = useUserAuth();\r\n\r\n  useEffect(() => {\r\n    setUsername(user.username);\r\n    setOriginalname(user.originalname);\r\n  }, []);\r\n\r\n  async function changeUserName() {\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(\"/user/update-username\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ username }),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      const data = await res.json();\r\n      // console.log(user);\r\n      if (data.errors) {\r\n        setErrors(data.errors);\r\n      }\r\n      if (data.user) {\r\n        //reset the errors\r\n        setErrors({});\r\n        //update the user\r\n        assignUserProps(data.user, user.changeUser);\r\n        user.changeUser(data.user);\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n      alert(\"something went wrong, try again later\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div {...props}>\r\n      <h2 className=\"profile__form-title\">info</h2>\r\n      <label>original name</label>\r\n      <input value={originalname} disabled />\r\n      <label>fake name</label>\r\n      <input value={username} onChange={(e) => setUsername(e.target.value)} />\r\n      <span className=\"profile__form-error\">{errors.username}</span>\r\n      <button\r\n        onClick={changeUserName}\r\n        disabled={username === user.username || loading}\r\n        className={loading ? \"ring-loader ring-loader--x-small\" : \"\"}\r\n      >\r\n        save\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PasswordForm(props) {\r\n  const [newPwd, setNewPwd] = useState(\"\");\r\n  const [confirmPwd, setConfirmPwd] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  async function changePassword() {\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(\"/user/update-password\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ password: newPwd }),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      const data = await res.json();\r\n      // console.log(data);\r\n      if (data.errors) {\r\n        setErrors(data.errors);\r\n      }\r\n      if (data.user) {\r\n        setErrors({});\r\n        setNewPwd(\"\");\r\n        setConfirmPwd(\"\");\r\n        setTimeout(() => alert(\"password changed sucessfully\"), 10);\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n      alert(\"something went wrong, try again later\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n  return (\r\n    <div {...props}>\r\n      <h2 className=\"profile__form-title\">change password</h2>\r\n      <label>new password</label>\r\n      <input value={newPwd} onChange={(e) => setNewPwd(e.target.value)} />\r\n      <label>confirm password</label>\r\n      <input\r\n        value={confirmPwd}\r\n        onChange={(e) => setConfirmPwd(e.target.value)}\r\n      />\r\n      <span className=\"profile__form-error\">{errors.password}</span>\r\n      <button\r\n        onClick={changePassword}\r\n        disabled={!newPwd || newPwd !== confirmPwd || loading}\r\n        className={loading ? \"ring-loader ring-loader--x-small\" : \"\"}\r\n      >\r\n        save\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AccoundDeleteBtn(props) {\r\n  const [agreed, setAggred] = useState(false);\r\n  const history = useHistory();\r\n  const { user } = useUserAuth();\r\n  async function deleteUser() {\r\n    const res = await fetch(\"/user/remove-user\");\r\n    history.push(\"/\");\r\n  }\r\n  return (\r\n    <div {...props}>\r\n      <button onClick={deleteUser} disabled={!agreed}>\r\n        delete my accound\r\n      </button>\r\n      <label>\r\n        <input type=\"checkbox\" onChange={() => setAggred((bool) => !bool)} /> I\r\n        agree to delete my accound\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Profile() {\r\n  const { isUser, toRedirectPath, user } = useUserAuth();\r\n  const history = useHistory();\r\n  if (!isUser) {\r\n    history.replace(toRedirectPath);\r\n    return null;\r\n  }\r\n  return (\r\n    <Layout>\r\n      <main className=\"profile\">\r\n        <div className=\"profile__intro\">\r\n          <div className=\"profile__section\">\r\n            <div className=\"profile__pic-container\">\r\n              <img\r\n                src=\"/images/user_profile.png\"\r\n                className=\"profile__pic-img\"\r\n                alt=\"user profile\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"profile__section\">\r\n          <h1 className=\"profile__username\">Wellcome {user.username}</h1>\r\n        </div>\r\n        <div className=\"profile__info profile__section\">\r\n          <InfoForm className=\"profile__form\" />\r\n        </div>\r\n        <div className=\"profile__pwd-info profile__section\">\r\n          <PasswordForm className=\"profile__form\" />\r\n        </div>\r\n        <AccoundDeleteBtn className=\"profile__section profile__account-deletion-content\" />\r\n      </main>\r\n    </Layout>\r\n  );\r\n}\r\n","C:\\Users\\91730\\Documents\\react\\whoshared\\src\\pages\\home.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\lib\\contexts.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\lib\\hooks.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\layout.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\header.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\menu.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\loading-indicator.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\pages\\friends-list.js",["81"],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\pages\\group-chat.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\footer.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\error-boundary.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\lib\\assignProps.js",[],"C:\\Users\\91730\\Documents\\react\\whoshared\\src\\components\\dialogs.js",[],{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","replacedBy":"85"},{"ruleId":"86","severity":1,"message":"87","line":20,"column":6,"nodeType":"88","endLine":20,"endColumn":8,"suggestions":"89"},{"ruleId":"90","severity":1,"message":"91","line":130,"column":11,"nodeType":"92","messageId":"93","endLine":130,"endColumn":15},{"ruleId":"90","severity":1,"message":"94","line":132,"column":11,"nodeType":"92","messageId":"93","endLine":132,"endColumn":14},{"ruleId":"95","severity":1,"message":"96","line":55,"column":54,"nodeType":"97","messageId":"98","endLine":55,"endColumn":56},"no-native-reassign",["99"],"no-negated-in-lhs",["100"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'user.originalname' and 'user.username'. Either include them or remove the dependency array.","ArrayExpression",["101"],"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","'res' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation",{"desc":"102","fix":"103"},"Update the dependencies array to be: [user.originalname, user.username]",{"range":"104","text":"105"},[643,645],"[user.originalname, user.username]"]